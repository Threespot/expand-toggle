!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["expand-toggleLink"]=e():t["expand-toggleLink"]=e()}(window,(function(){return e=[function(t,e,n){var i,r;i="undefined"!=typeof window?window:this,r=function(){function t(){}let e=t.prototype;return e.on=function(t,e){if(!t||!e)return this;let n=this._events=this._events||{},i=n[t]=n[t]||[];return i.includes(e)||i.push(e),this},e.once=function(t,e){if(!t||!e)return this;this.on(t,e);let n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this},e.off=function(t,e){let n=this._events&&this._events[t];return n&&n.length?(-1!=(t=n.indexOf(e))&&n.splice(t,1),this):this},e.emitEvent=function(t,e){let n=this._events&&this._events[t];if(!n||!n.length)return this;n=n.slice(0),e=e||[];let i=this._onceEvents&&this._onceEvents[t];for(var r of n)i&&i[r]&&(this.off(t,r),delete i[r]),r.apply(this,e);return this},e.allOff=function(){return delete this._events,delete this._onceEvents,this},t},t.exports?t.exports=r():i.EvEmitter=r()},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==(e=t))return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return u})),e=n(0);var u=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=d(t);return l(this,e?(n=d(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))}}(i);function i(t,e){var r;if(this instanceof i)return(r=n.call(this)).el=t,r.targetId=r.el.getAttribute("data-expands"),r.targetEl=document.getElementById(r.targetId),r.targetParentEl=r.targetEl.parentNode,r.targetEl?(r.options=Object.assign({},{expandedClasses:"",shouldToggleHeight:!1,activeToggleText:"",shouldStartExpanded:!1,onReady:null},e),r.expandedClasses=r.el.getAttribute("data-expands-class")||r.options.expandedClasses,r.expandedClasses.length&&(-1<r.expandedClasses.indexOf(" ")?r.expandedClasses=r.expandedClasses.split(" ").filter((function(t){return t.length})):r.expandedClasses=[r.expandedClasses]),r.shouldToggleHeight=r.el.hasAttribute("data-expands-height")||r.options.shouldToggleHeight,r.shouldStartExpanded=r.el.hasAttribute("data-expanded")||r.options.shouldStartExpanded,r.hasActiveText=!1,r.textEl=r.el.querySelector("[data-expands-text]"),r.textEl&&(r.defaultToggleText=r.textEl.textContent,r.activeToggleText=r.textEl.getAttribute("data-expands-text")||r.options.activeToggleText,r.hasActiveText=!!r.activeToggleText.length),r.init(),r):(console.warn("Can’t find expandable target with id “".concat(r.targetId,"”")),l(r,!1));throw new TypeError("Cannot call a class as a function")}return e=i,(t=[{key:"init",value:function(){this.hasInitialized=!0,this.el.setAttribute("aria-haspopup",!0),this.el.setAttribute("aria-expanded",this.shouldStartExpanded),this.targetEl.setAttribute("aria-hidden",!this.shouldStartExpanded),"a"===this.el.tagName.toLowerCase()&&this.el.setAttribute("role","button"),this.shouldToggleHeight&&this.heightToggleSetup(),this.clickHandler=this.toggle.bind(this),this.el.addEventListener("click",this.clickHandler),this.keydownHandler=this.keyboardEvents.bind(this),this.el.addEventListener("keydown",this.keydownHandler),"function"==typeof this.options.onReady&&this.options.onReady()}},{key:"debounce",value:function(t,e){var n=null;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];window.clearTimeout(n),n=window.setTimeout((function(){t.apply(null,r)}),e)}}},{key:"destroy",value:function(){var t;this.hasInitialized=!1,this.el.removeEventListener("click",this.clickHandler),this.el.removeEventListener("keydown",this.keydownHandler),window.removeEventListener("resize",this.resizeHandler),this.el.removeAttribute("aria-haspopup"),this.el.removeAttribute("aria-expanded"),this.targetEl.removeAttribute("aria-hidden"),this.targetEl.style.removeProperty("max-height"),"a"===this.el.tagName.toLowerCase()&&this.el.removeAttribute("role"),this.hasActiveText&&(this.textEl.textContent=this.defaultToggleText),this.expandedClasses.length&&((t=this.el.classList).remove.apply(t,r(this.expandedClasses)),(t=this.targetEl.classList).remove.apply(t,r(this.expandedClasses))),this.emitEvent("destroy")}},{key:"keyboardEvents",value:function(t){40==t.keyCode?this.expand():38!=t.keyCode&&27!=t.keyCode||this.collapse()}},{key:"heightToggleSetup",value:function(){var t=this;window.requestAnimationFrame(this.updateExpandedHeight.bind(this)),this.resizeHandler=this.debounce((function(){t.hasInitialized&&window.requestAnimationFrame(t.updateExpandedHeight.bind(t))}),100).bind(this),window.addEventListener("resize",this.resizeHandler)}},{key:"updateExpandedHeight",value:function(){var t=Math.round(parseFloat(this.targetEl.offsetWidth)),e=(t=((e=this.targetEl.cloneNode(!0)).style.cssText="max-height: none !important; position: absolute !important; right: 100% !important; visibility: hidden !important; width: ".concat(t,"px !important; -webkit-transition: none !important; -moz-transition: none !important; transition: none !important"),e.setAttribute("aria-hidden",!1),e.removeAttribute("id"),e.querySelectorAll("[name]")),t=(Array.prototype.forEach.call(t,(function(t){t.removeAttribute("name")})),this.targetParentEl.insertBefore(e,this.targetEl)),Math.round(parseFloat(t.offsetHeight)));this.targetParentEl.removeChild(t),this.targetEl.style.maxHeight=e+"px"}},{key:"expand",value:function(t){var e;this.hasActiveText&&(this.textEl.textContent=this.activeToggleText),this.expandedClasses.length&&((e=this.el.classList).add.apply(e,r(this.expandedClasses)),(e=this.targetEl.classList).add.apply(e,r(this.expandedClasses))),this.el.setAttribute("aria-expanded",!0),this.targetEl.setAttribute("aria-hidden",!1),this.emitEvent("expand",t)}},{key:"collapse",value:function(t){var e;this.hasActiveText&&(this.textEl.textContent=this.defaultToggleText),this.expandedClasses.length&&((e=this.el.classList).remove.apply(e,r(this.expandedClasses)),(e=this.targetEl.classList).remove.apply(e,r(this.expandedClasses))),this.el.setAttribute("aria-expanded",!1),this.targetEl.setAttribute("aria-hidden",!0),this.emitEvent("collapse",t)}},{key:"toggle",value:function(t){t.preventDefault(),"true"===this.el.getAttribute("aria-expanded")?this.collapse(t):this.expand(t)}}])&&a(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),i}(n.n(e).a)}],n={},t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(t){return e[t]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s=1);function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var e,n}));