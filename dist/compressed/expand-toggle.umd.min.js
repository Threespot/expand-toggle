!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["expand-toggleLink"]=e():t["expand-toggleLink"]=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=13)}([function(t,e,i){var n=i(1).Symbol;t.exports=n},function(t,e,i){var n=i(10),r="object"==typeof self&&self&&self.Object===Object&&self,a=n||r||Function("return this")();t.exports=a},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){var i=Object.prototype.toString;t.exports=function(t){return i.call(t)}},function(t,e,i){var n=i(0),r=Object.prototype,a=r.hasOwnProperty,s=r.toString,o=n?n.toStringTag:void 0;t.exports=function(t){var e=a.call(t,o),i=t[o];try{t[o]=void 0;var n=!0}catch(t){}var r=s.call(t);return n&&(e?t[o]=i:delete t[o]),r}},function(t,e,i){var n=i(0),r=i(5),a=i(4),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?r(t):a(t)}},function(t,e,i){var n=i(6),r=i(3);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==n(t)}},function(t,e,i){var n=i(2),r=i(7),a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return NaN;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var i=o.test(t);return i||l.test(t)?u(t.slice(2),i?2:8):s.test(t)?NaN:+t}},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(this,i(9))},function(t,e,i){var n=i(1);t.exports=function(){return n.Date.now()}},function(t,e,i){var n=i(2),r=i(11),a=i(8),s=Math.max,o=Math.min;t.exports=function(t,e,i){var l,u,d,h,c,p,f=0,g=!1,x=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var i=l,n=u;return l=u=void 0,f=e,h=t.apply(n,i)}function b(t){var i=t-p;return void 0===p||i>=e||i<0||x&&t-f>=d}function m(){var t=r();if(b(t))return E(t);c=setTimeout(m,function(t){var i=e-(t-p);return x?o(i,d-(t-f)):i}(t))}function E(t){return c=void 0,v&&l?y(t):(l=u=void 0,h)}function T(){var t=r(),i=b(t);if(l=arguments,u=this,p=t,i){if(void 0===c)return function(t){return f=t,c=setTimeout(m,e),g?y(t):h}(p);if(x)return c=setTimeout(m,e),y(p)}return void 0===c&&(c=setTimeout(m,e)),h}return e=a(e)||0,n(i)&&(g=!!i.leading,d=(x="maxWait"in i)?s(a(i.maxWait)||0,e):d,v="trailing"in i?!!i.trailing:v),T.cancel=function(){void 0!==c&&clearTimeout(c),f=0,l=p=u=c=void 0},T.flush=function(){return void 0===c?h:E(r())},T}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=(n=i(12))&&n.__esModule?n:{default:n};function s(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var o=function(){function t(e,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.targetId=this.el.getAttribute("data-expands"),this.targetEl=document.getElementById(this.targetId),!this.targetEl)return console.warn("Can’t find expandable target with id “"+this.targetId+"”"),!1;this.options=Object.assign({},{expandedClasses:"",shouldToggleHeight:!1,activeToggleText:""},i),this.expandedClasses=this.el.getAttribute("data-expands-class")||this.options.expandedClasses,this.expandedClasses.length&&(this.expandedClasses.indexOf(" ")>-1?this.expandedClasses=this.expandedClasses.split(" ").filter(function(t){return t.length}):this.expandedClasses=[this.expandedClasses]),this.shouldToggleHeight=this.el.hasAttribute("data-expands-height")||this.options.shouldToggleHeight,this.hasActiveText=!1,this.textEl=this.el.querySelector("[data-expands-text]"),this.textEl&&(this.defaultToggleText=this.textEl.textContent,this.activeToggleText=this.textEl.getAttribute("data-expands-text")||this.options.activeToggleText,this.hasActiveText=!!this.activeToggleText.length),this.init()}return r(t,[{key:"init",value:function(){this.el.setAttribute("aria-haspopup",!0),this.el.setAttribute("aria-expanded",!1),this.targetEl.setAttribute("aria-hidden",!0),"a"===this.el.tagName.toLowerCase()&&this.el.setAttribute("role","button"),this.shouldToggleHeight&&this.heightToggleSetup(),this.clickHandler=this.toggle.bind(this),this.el.addEventListener("click",this.clickHandler),this.keydownHandler=this.keyboardEvents.bind(this),this.el.addEventListener("keydown",this.keydownHandler)}},{key:"keyboardEvents",value:function(t){40==t.keyCode?this.expand():38!=t.keyCode&&27!=t.keyCode||this.collapse()}},{key:"heightToggleSetup",value:function(){var t=this;this.targetParentEl=this.targetEl.parentNode,this.updateExpandedHeight(),window.addEventListener("resize",(0,a.default)(function(e){t.updateExpandedHeight()},150))}},{key:"updateExpandedHeight",value:function(){var t=Math.round(parseFloat(this.targetEl.offsetWidth)),e=this.targetEl.cloneNode(!0);e.style.cssText="max-height: none !important; position: absolute !important; right: 100% !important; visibility: hidden !important; width: "+t+"px !important; -webkit-transition: none !important; -moz-transition: none !important; transition: none !important",e.setAttribute("aria-hidden",!1),e.removeAttribute("id");var i=this.targetParentEl.insertBefore(e,this.targetEl),n=Math.round(parseFloat(i.offsetHeight));this.targetParentEl.removeChild(i),this.targetEl.style.maxHeight=n+"px"}},{key:"expand",value:function(){var t,e;this.hasActiveText&&(this.textEl.textContent=this.activeToggleText),this.expandedClasses.length&&((t=this.el.classList).add.apply(t,s(this.expandedClasses)),(e=this.targetEl.classList).add.apply(e,s(this.expandedClasses))),this.el.setAttribute("aria-expanded",!0),this.targetEl.setAttribute("aria-hidden",!1)}},{key:"collapse",value:function(){var t,e;this.hasActiveText&&(this.textEl.textContent=this.defaultToggleText),this.expandedClasses.length&&((t=this.el.classList).remove.apply(t,s(this.expandedClasses)),(e=this.targetEl.classList).remove.apply(e,s(this.expandedClasses))),this.el.setAttribute("aria-expanded",!1),this.targetEl.setAttribute("aria-hidden",!0)}},{key:"toggle",value:function(t){"true"===this.el.getAttribute("aria-expanded")?this.collapse():this.expand()}},{key:"destroy",value:function(){var t,e;this.el.removeAttribute("aria-haspopup"),this.el.removeAttribute("aria-expanded"),this.targetEl.removeAttribute("aria-hidden"),this.targetEl.style.removeProperty("max-height"),"a"===this.el.tagName.toLowerCase()&&this.el.removeAttribute("role"),this.hasActiveText&&(this.textEl.textContent=this.defaultToggleText),this.expandedClasses.length&&((t=this.el.classList).remove.apply(t,s(this.expandedClasses)),(e=this.targetEl.classList).remove.apply(e,s(this.expandedClasses))),this.el.removeEventListener("click",this.clickHandler),this.el.removeEventListener("keydown",this.keydownHandler)}}]),t}();e.default=o}])});